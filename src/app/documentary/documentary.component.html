<app-navbar></app-navbar>

<div class="parent-container">
  <div class="banner" [style.background-image]="documentaryContent[currentCategoryName][currentIdx].imgLink">
    <div class="gradient"></div>
    <div class="txt">
      <p class="category-desc fs-5" data-aos="fade-right">{{documentaryContent[currentCategoryName][currentIdx].year}} <span class="mx-3" style="letter-spacing: -3px;">----------</span> {{documentaryContent[currentCategoryName][currentIdx].duration}} <span class="badge">4K</span></p>
      <!-- <h6 >POPULAR ON {{categoryName}} DOCUMENTARIES</h6> -->
      <h1 data-aos="fade-right" data-aos-delay="200">{{documentaryContent[currentCategoryName][currentIdx].title}}</h1>
      <p class="fs-5" data-aos="fade-right" data-aos-delay="400">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      <div class="btn-container" data-aos="fade-right" data-aos-delay="600">
        <button class="px-4 py-3 fs-5 rounded-pill me-3" (click)="watchNow()">Watch Now</button>
        <button class="px-4 py-3 fs-5 rounded-pill me-3" id="playButton" (click)="watchTrailer()">Watch Trailer</button>
      </div>
    </div>
  </div>

  <div class="details d-flex">
    <div class="text">
      <h1 class="mb-4" data-aos="fade-right">Overview</h1>
      <p data-aos="fade-right">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla</p>

      <p data-aos="fade-right">Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum uenim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>

      <h3 class="my-4" data-aos="fade-right">More Information</h3>

      <p data-aos="fade-right">Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
    </div>

    <div class="box-container w-50 d-flex justify-content-center align-items-center">
      <div class="box">
        <h4 data-aos="fade-left">Information</h4>
        <hr>
        <p class="fs-5 mb-0" data-aos="fade-left">MATURITY RATING:</p>
        <p data-aos="fade-left">TV - PG</p>

        <p class="my-3 fs-5" data-aos="fade-left">GENRES:</p>
        <p data-aos="fade-left">Docuseries, Science & Nature docs, Nature & Ecology, Science & Nature TV, US TV shows</p>

        <p class="my-3 fs-5" data-aos="fade-left">FILM DIRECTOR:</p>
        <div class="d-flex gap-3 align-items-center" data-aos="fade-left">
          <img src="../../assets/director.jpg" class="rounded-circle" width="50" alt="">
          <p class="m-0">David Attenborough</p>
        </div>
      </div>

    </div>
  </div>

  <hr class="mx-auto" style="width: 90%;">

  <div class="more-documentaries">
    <h2>More {{currentCategoryName}} Documentaries</h2>

      <div class="categories d-flex justify-content-between flex-wrap">
        @for (item of documentaryContent[currentCategoryName]; track $index) {
          <div class="category" *ngIf="!(item.title == documentaryContent[currentCategoryName][currentIdx].title)" data-aos="fade-up" [attr.data-aos-delay]="$index*100" (click)="navigateToDocumentary(item.queryParams)">

            <div class="img-container" [style.background-image]= "item.imgLink"></div>
            <h4 class="category-title">{{item.title}}</h4>
            <p class="category-desc fs-6">{{item.year}} <span class="mx-3" style="letter-spacing: -3px;">----------</span> {{item.duration}}</p>
          </div>
        }
      </div>
  </div>

  <!-- Popular Documentaries -->

  <div id="explore-documentaries" class="popular-documentaries p-5" >
    <h2 class="mb-4">Popular Documentaries</h2>
    <div class="categories d-flex justify-content-between flex-wrap">

      <div class="category" *ngFor="let documentary of popularDocumentaries" data-aos="fade-up" [attr.data-aos-delay] = "documentary.delay" (click)="navigateToDocumentary(documentary.queryParams)">
        <div class="img-container" [style.background-image]="documentary.imgLink"></div>
        <h4 class="category-title">{{documentary.title}}</h4>
        <p class="category-desc fs-6">{{documentary.year}} <span class="mx-3" style="letter-spacing: -3px;">----------</span> {{documentary.duration}}</p>
      </div>


    </div>
  </div>
</div>

<div id="overlay" class="overlay" (click)="play($event)">
  <div class="overlay-content">
    <span id="closeButton" class="close-button" (click)="closePlayer()">&times;</span>
    <iframe id="youtubePlayer" width="100%" height="100%" src="https://www.youtube.com/embed/VIDEO_ID" frameborder="0" allowfullscreen></iframe>
  </div>
</div>

